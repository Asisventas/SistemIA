@page "/notas-credito/imprimir/{Id:int}"
@using SistemIA.Shared.Reportes
@inject IJSRuntime JS
@inject NavigationManager Nav

<PageTitle>Imprimir Nota de Crédito</PageTitle>

<PageProtection Modulo="/notas-credito" Permiso="VIEW">

<div class="d-print-none mb-3">
    <div class="d-flex justify-content-between align-items-center">
        <h5 class="mb-0">
            <i class="bi bi-printer me-2"></i>Impresión de Nota de Crédito #@Id
        </h5>
        <div class="btn-group">
            <button class="btn btn-outline-secondary" @onclick="Volver">
                <i class="bi bi-arrow-left me-1"></i>Volver
            </button>
            <button class="btn btn-primary" @onclick="Imprimir">
                <i class="bi bi-printer me-1"></i>Imprimir
            </button>
            <button class="btn btn-outline-danger" @onclick="Cerrar">
                <i class="bi bi-x-lg me-1"></i>Cerrar
            </button>
        </div>
    </div>
</div>

<KudeNotaCredito IdNotaCredito="@Id" />

</PageProtection>

@code {
    [Parameter] public int Id { get; set; }
    
    private void Volver()
    {
        Nav.NavigateTo("/notas-credito/explorar");
    }
    
    private async Task Imprimir()
    {
        await JS.InvokeVoidAsync("print");
    }
    
    private async Task Cerrar()
    {
        await JS.InvokeVoidAsync("close");
    }
}

@page "/ventas/imprimir/{id:int}"
@using SistemIA.Shared.Reportes
@inject IJSRuntime JS
@inject NavigationManager Nav

<div class="d-print-none mb-3">
  <div class="d-flex justify-content-between align-items-center">
    <h5 class="mb-0">
      <i class="bi bi-printer me-2"></i>Impresi√≥n de Factura #@id
    </h5>
    <div class="btn-group">
      <button class="btn btn-outline-secondary" @onclick="Volver">
        <i class="bi bi-arrow-left me-1"></i>Volver
      </button>
      <button class="btn btn-primary" @onclick="Imprimir">
        <i class="bi bi-printer me-1"></i>Imprimir
      </button>
      <button class="btn btn-outline-danger" @onclick="Cerrar">
        <i class="bi bi-x-lg me-1"></i>Cerrar
      </button>
    </div>
  </div>
</div>

<KudeFactura IdVenta="@id" />

@code {
    [Parameter] public int id { get; set; }
    
    private void Volver()
    {
      Nav.NavigateTo("/ventas/explorar");
    }
    
    private async Task Imprimir()
    {
      await JS.InvokeVoidAsync("print");
    }
    
    private async Task Cerrar()
    {
      await JS.InvokeVoidAsync("close");
    }
}
